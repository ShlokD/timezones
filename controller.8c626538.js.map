{"version":3,"sources":["src/js/classes/mask.js","src/js/classes/transformer.js","src/js/classes/controller.js"],"names":["length","_bits","Array","fill","_setIndex","forEach","bit","position","unsetAll","data","_data","_keys","Object","keys","map","Number","_length","_mask","Mask","mid","parseInt","_offset","bitPosition","applyTransformationPolicy","setBit","setIndex","getSetBitIndex","buttonElem","inputElem","renderContainer","_buttonElem","_inputElem","_renderContainer","_transformer","Transformer","handleButtonClick","bind","ev","value","setPosition","renderList","items","getSetData","newFragment","document","createDocumentFragment","item","wrapper","createElement","classList","add","checkbox","type","id","checkboxLabel","htmlFor","textContent","appendChild","firstChild","removeChild","addEventListener","passive"],"mappings":"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","file":"controller.8c626538.js","sourceRoot":"..","sourcesContent":["export default class {\r\n  constructor(length) {\r\n    this._bits = new Array(length).fill(0);\r\n    this._setIndex = null;\r\n  }\r\n\r\n  getBits() {\r\n    return this._bits;\r\n  }\r\n\r\n  unsetAll() {\r\n    this._bits.forEach(bit => bit = 0);\r\n  }\r\n\r\n  setBit(position) {\r\n    this.unsetAll();\r\n    this._setIndex = position;\r\n    this._bits[position] = 1;\r\n  }\r\n\r\n  getSetBitIndex() {\r\n    return this._setIndex;\r\n  }\r\n}","import Mask from \"./mask.js\";\r\n\r\nexport default class {\r\n  constructor(data = {}) {\r\n    this._data = data;\r\n    this._keys = Object.keys(data).map(Number);\r\n    this._length = this._keys.length;\r\n    this._mask = new Mask(length)\r\n\r\n    const mid = parseInt(this._length / 2);\r\n    this._offset = this._keys[mid];\r\n  }\r\n\r\n  applyTransformationPolicy(position) {\r\n    return (2 * position) + this._offset;\r\n  }\r\n\r\n  setPosition(position) {\r\n    const bitPosition = this.applyTransformationPolicy(position);\r\n    this._mask.setBit(bitPosition);\r\n  }\r\n\r\n  getSetData() {\r\n    const setIndex = this._mask.getSetBitIndex();\r\n    return this._data[setIndex] || []\r\n  }\r\n\r\n  getData() {\r\n    return this._data;\r\n  }\r\n}","import Transformer from './transformer.js';\r\n\r\nexport default class {\r\n  constructor({ data, buttonElem, inputElem, renderContainer }) {\r\n    this._buttonElem = buttonElem;\r\n    this._inputElem = inputElem;\r\n    this._renderContainer = renderContainer;\r\n    this._transformer = new Transformer(data);\r\n\r\n    this.handleButtonClick = this.handleButtonClick.bind(this);\r\n  }\r\n\r\n  handleButtonClick(ev) {\r\n    const value = this._inputElem.value;\r\n    this._transformer.setPosition(value);\r\n\r\n    this.renderList();\r\n  }\r\n\r\n  renderList() {\r\n    const items = this._transformer.getSetData();\r\n\r\n    const newFragment = document.createDocumentFragment();\r\n\r\n    items.forEach(item => {\r\n      const wrapper = document.createElement('div');\r\n      wrapper.classList.add('city-selector');\r\n\r\n\r\n      const checkbox = document.createElement('input');\r\n      checkbox.type = \"checkbox\";\r\n      checkbox.value = item;\r\n      checkbox.id = item;\r\n\r\n      const checkboxLabel = document.createElement('label');\r\n      checkboxLabel.htmlFor = item;\r\n      checkboxLabel.textContent = item;\r\n\r\n\r\n      wrapper.appendChild(checkbox);\r\n      wrapper.appendChild(checkboxLabel);\r\n      newFragment.appendChild(wrapper);\r\n    });\r\n\r\n    while (this._renderContainer.firstChild) {\r\n      this._renderContainer.removeChild(this._renderContainer.firstChild)\r\n    }\r\n\r\n    this._renderContainer.appendChild(newFragment);\r\n  }\r\n\r\n  init() {\r\n    this._buttonElem.addEventListener('click', this.handleButtonClick, { passive: true })\r\n    this._transformer.setPosition(0);\r\n    this.renderList();\r\n  }\r\n}"]}